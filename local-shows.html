<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8" />
	<title>Local Shows | Bateson Family Lights</title>
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<meta name="description" content="Local Christmas light shows in Northwest Ohio and Southeast Michigan ‚Äì part of the Christmas Junkies tour, including Bateson Family Lights and other synchronized displays." />

	<link rel="preconnect" href="https://fonts.googleapis.com">
	<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
	<link href="https://fonts.googleapis.com/css2?family=Pacifico&display=swap" rel="stylesheet">

	<style>
		:root {
			--bg: #04040b;
			--bg-alt: #0c1020;
			--card: #101627;
			--accent-green: #22c55e;
			--accent-red: #fb7185;
			--text-main: #f5f7ff;
			--text-muted: #9ca3c7;
			--border-subtle: rgba(255, 255, 255, 0.06);
			--shadow-soft: 0 18px 40px rgba(0, 0, 0, 0.75);
			--radius-xl: 24px;
		}

		*,
		*::before,
		*::after {
			box-sizing: border-box;
		}

		html,
		body {
			margin: 0;
			padding: 0;
		}

		body {
			font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI",
				sans-serif;
			background:
				radial-gradient(circle at top, #102540 0, #04040b 55%, #020208 100%),
				url("https://images.pexels.com/photos/6880135/pexels-photo-6880135.jpeg?auto=compress&cs=tinysrgb&w=1200")
					center/cover fixed;
			color: var(--text-main);
			min-height: 100vh;
			display: flex;
			justify-content: center;
			align-items: flex-start;
		}

		main {
			width: 100%;
			max-width: 960px;
			padding: 16px 16px 40px;
			margin: 24px auto 40px;
		}

		/* NAV (copied from index, with Local Shows added) */
		.nav {
			display: flex;
			align-items: center;
			justify-content: space-between;
			gap: 12px;
			padding: 8px 12px;
			margin-bottom: 10px;
			border-radius: 999px;
			background: rgba(15, 23, 42, 0.9);
			border: 1px solid rgba(148, 163, 184, 0.3);
			box-shadow: 0 10px 26px rgba(0, 0, 0, 0.7);
			backdrop-filter: blur(10px);
		}

		.nav-title {
			display: flex;
			align-items: center;
			gap: 6px;
			font-size: 0.9rem;
			font-weight: 600;
		}

		.nav-links {
			display: flex;
			align-items: center;
			gap: 10px;
			font-size: 0.84rem;
		}

		.nav-links a {
			color: var(--text-muted);
			text-decoration: none;
			padding: 4px 10px;
			border-radius: 999px;
			border: 1px solid transparent;
			transition:
				background 0.12s ease-out,
				color 0.12s ease-out,
				border-color 0.12s ease-out;
		}

		.nav-links a:hover {
			background: rgba(15, 23, 42, 0.95);
			color: var(--text-main);
			border-color: rgba(148, 163, 184, 0.6);
		}

		.nav-links a.nav-primary {
			background: radial-gradient(circle at 0 0, #22c55e, #16a34a);
			color: #020617;
			border-color: rgba(34, 197, 94, 0.8);
		}

		.nav-links a.nav-primary:hover {
			filter: brightness(1.05);
		}

		.disabled-nav {
			opacity: 0.4;
			pointer-events: none;
			cursor: default;
		}

		@media (max-width: 640px) {
			.nav {
				flex-direction: column;
				align-items: flex-start;
			}
			.nav-links {
				width: 100%;
				justify-content: flex-start;
				flex-wrap: wrap;
			}
		}

		/* STRING LIGHTS DECORATION (same as index) */
		.string-lights {
			position: relative;
			height: 32px;
			margin: 10px 0 -8px;
		}

		.string-lights::before {
			content: "";
			position: absolute;
			left: 0;
			right: 0;
			top: 12px;
			height: 2px;
			background: rgba(148, 163, 184, 0.4);
			border-radius: 999px;
		}

		.bulb {
			position: absolute;
			top: 10px;
			width: 10px;
			height: 16px;
			border-radius: 40% 40% 60% 60%;
			background: #22c55e;
			box-shadow: 0 0 12px rgba(34, 197, 94, 0.8);
			transform-origin: top center;
			animation: sway 3s ease-in-out infinite alternate;
		}

		.bulb.red {
			background: var(--accent-red);
			box-shadow: 0 0 14px rgba(251, 113, 133, 0.9);
		}

		.bulb.gold {
			background: #fbbf24;
			box-shadow: 0 0 14px rgba(251, 191, 36, 0.9);
		}

		.bulb:nth-child(1) { left: 10%; animation-delay: 0s; }
		.bulb:nth-child(2) { left: 25%; animation-delay: 0.4s; }
		.bulb:nth-child(3) { left: 40%; animation-delay: 0.8s; }
		.bulb:nth-child(4) { left: 55%; animation-delay: 1.2s; }
		.bulb:nth-child(5) { left: 70%; animation-delay: 1.6s; }
		.bulb:nth-child(6) { left: 85%; animation-delay: 2s; }

		@keyframes sway {
			from { transform: rotate(-6deg); }
			to   { transform: rotate(6deg); }
		}

		/* HERO (tweaked for local shows) */
		.hero {
			background: rgba(7, 10, 25, 0.55);
			border-radius: var(--radius-xl);
			box-shadow: var(--shadow-soft);
			padding: 14px 18px 16px;
			border: 1px solid var(--border-subtle);
			position: relative;
			overflow: hidden;
			margin-top: 15px !important;
		}

		.hero-inner {
			position: relative;
			z-index: 1;
		}

		.hero-top {
			display: grid;
			grid-template-columns: minmax(0, 1fr);
			gap: 10px;
			align-items: stretch;
		}

		.badge {
			display: inline-flex;
			align-items: center;
			gap: 6px;
			font-size: 0.7rem;
			text-transform: uppercase;
			letter-spacing: 0.12em;
			background: rgba(0, 0, 0, 0.55);
			border-radius: 999px;
			padding: 4px 10px;
			color: var(--text-muted);
			border: 1px solid rgba(255, 255, 255, 0.08);
			margin-bottom: 2px;
		}

		.badge-dot {
			width: 6px;
			height: 6px;
			border-radius: 50%;
			background: #22c55e;
			box-shadow: 0 0 10px #22c55e;
		}

		.hero-title {
			font-size: clamp(2.1rem, 4vw, 2.6rem);
			font-weight: 800;
			letter-spacing: 0.03em;
			margin: 0;
			display: flex;
			align-items: center;
			gap: 10px;
			flex-wrap: wrap;
		}

		.hero-title span.em {
			color: var(--accent-green);
			text-shadow: 0 0 16px rgba(34, 197, 94, 0.9);
		}

		.hero-highlight {
			display: inline-flex;
			align-items: center;
			gap: 6px;
			font-size: 0.8rem;
			color: #fef9c3;
			background: rgba(248, 250, 252, 0.05);
			padding: 5px 9px;
			border-radius: 999px;
			border: 1px solid rgba(248, 250, 252, 0.18);
		}

		.hero-subtitle {
			margin: 6px 0 8px;
			font-size: 0.98rem;
			color: var(--text-muted);
			max-width: 40rem;
		}

		.hero-meta {
			display: flex;
			flex-wrap: wrap;
			gap: 8px;
			margin-top: 6px;
			font-size: 0.8rem;
			color: var(--text-muted);
		}

		.hero-meta-pill {
			display: inline-flex;
			align-items: center;
			gap: 6px;
			padding: 4px 10px;
			border-radius: 999px;
			background: rgba(15, 23, 42, 0.9);
			border: 1px solid rgba(148, 163, 184, 0.25);
		}

		.hero-links {
			margin-top: 6px;
			font-size: 0.8rem;
		}

		.hero-links a {
			color: var(--accent-green);
			text-decoration: none;
		}

		.hero-links a:hover {
			text-decoration: underline;
		}

		/* Cards, footer (shared styles) */
		.card {
			background: var(--bg-alt);
			border-radius: var(--radius-xl);
			border: 1px solid var(--border-subtle);
			padding: 14px 14px 16px;
			box-shadow: 0 10px 26px rgba(0, 0, 0, 0.7);
		}

		.footer {
			margin-top: 18px;
			padding: 10px 6px 0;
			font-size: 0.78rem;
			color: var(--text-muted);
			display: flex;
			justify-content: space-between;
			gap: 12px;
			border-top: 1px solid rgba(148, 163, 184, 0.18);
		}

		.footer a {
			color: var(--accent-green);
			text-decoration: none;
		}

		.footer a:hover {
			text-decoration: underline;
		}

		@media (max-width: 768px) {
			.hero {
				padding: 12px 12px 16px;
			}
			.footer {
				flex-direction: column;
				align-items: flex-start;
			}
		}

		/* Pacifico for logo + hero title emphasis */
		.logo-script,
		.hero-title .em {
			font-family: "Pacifico", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
			font-weight: 400;
			letter-spacing: 0.04em;
		}

		.hero-title .em {
			text-transform: none;
			font-size: clamp(2.2rem, 4.4vw, 2.8rem);
			color: var(--accent-green);
			text-shadow: 0 0 16px rgba(34, 197, 94, 0.9);
		}

		/* --- LOCAL SHOWS LAYOUT --- */
		.shows-section {
			margin-top: 22px;
			display: flex;
			flex-direction: column;
			gap: 14px;
		}

		.featured-show {
			position: relative;
			border: 1px solid rgba(251, 191, 36, 0.7);
			background:
				radial-gradient(circle at top left, rgba(251, 191, 36, 0.23), transparent 55%),
				var(--bg-alt);
		}

		.featured-label {
			position: absolute;
			top: 10px;
			right: 16px;
			padding: 4px 10px;
			border-radius: 999px;
			background: rgba(248, 250, 252, 0.08);
			border: 1px solid rgba(251, 191, 36, 0.9);
			font-size: 0.7rem;
			text-transform: uppercase;
			letter-spacing: 0.12em;
			color: #fef9c3;
		}

		.featured-show h2 {
			font-size: 1.1rem;
			margin: 0 0 6px;
			display: flex;
			align-items: center;
			gap: 8px;
		}

		.featured-show h2 .icon {
			font-size: 1.2rem;
		}

		.show-region-pill {
			display: inline-flex;
			align-items: center;
			gap: 6px;
			font-size: 0.76rem;
			padding: 3px 9px;
			border-radius: 999px;
			background: rgba(15, 23, 42, 0.9);
			border: 1px solid rgba(148, 163, 184, 0.4);
			margin-bottom: 4px;
		}

		.show-region-dot {
			width: 6px;
			height: 6px;
			border-radius: 999px;
			background: #38bdf8;
			box-shadow: 0 0 10px rgba(56, 189, 248, 0.9);
		}

		.show-summary {
			font-size: 0.86rem;
			color: var(--text-muted);
			margin: 4px 0 6px;
		}

		.show-address {
			font-size: 0.86rem;
			color: var(--text-main);
			margin: 2px 0;
		}

		.show-city {
			font-size: 0.84rem;
			color: var(--text-muted);
			margin: 0 0 6px;
		}

		.show-meta-list {
			display: grid;
			grid-template-columns: minmax(0, 1fr);
			gap: 4px;
			font-size: 0.84rem;
			margin: 6px 0 8px;
		}

		.show-meta-row {
			display: flex;
			align-items: center;
			gap: 6px;
			color: var(--text-muted);
		}

		.show-meta-icon {
			font-size: 1rem;
		}

		.show-actions {
			display: flex;
			flex-wrap: wrap;
			gap: 8px;
			margin-top: 6px;
		}

		.pill-link {
			display: inline-flex;
			align-items: center;
			gap: 6px;
			padding: 5px 10px;
			border-radius: 999px;
			font-size: 0.8rem;
			text-decoration: none;
			border: 1px solid rgba(148, 163, 184, 0.4);
			color: var(--text-main);
			background: rgba(15, 23, 42, 0.9);
			transition:
				background 0.15s ease-out,
				border-color 0.15s ease-out,
				box-shadow 0.15s ease-out,
				color 0.15s ease-out;
		}

		.pill-link:hover {
			background: rgba(15, 23, 42, 0.98);
			border-color: rgba(148, 163, 184, 0.7);
			box-shadow: 0 10px 24px rgba(0, 0, 0, 0.6);
		}

		.pill-link-primary {
			border-color: rgba(34, 197, 94, 0.7);
		}

		.pill-link-primary:hover {
			box-shadow: 0 10px 22px rgba(34, 197, 94, 0.6);
		}

		.show-tags {
			display: flex;
			flex-wrap: wrap;
			gap: 6px;
			margin-top: 4px;
			font-size: 0.75rem;
		}

		.show-tag {
			padding: 2px 8px;
			border-radius: 999px;
			background: rgba(251, 191, 36, 0.18);
			border: 1px solid rgba(251, 191, 36, 0.8);
			color: #fef9c3;
		}

		/* Toolbar + grid */
		.shows-toolbar {
			display: flex;
			flex-wrap: wrap;
			align-items: center;
			justify-content: space-between;
			gap: 10px;
		}

		.shows-toolbar-left {
			font-size: 0.86rem;
			color: var(--text-muted);
		}

		.shows-toolbar-right {
			display: flex;
			align-items: center;
			gap: 8px;
			font-size: 0.84rem;
		}

		.sort-select {
			padding: 4px 26px 4px 8px;
			border-radius: 999px;
			border: 1px solid rgba(148, 163, 184, 0.5);
			background: rgba(15, 23, 42, 0.95);
			color: var(--text-main);
			font-size: 0.84rem;
		}

		.shows-grid {
			margin-top: 8px;
			display: grid;
			grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
			gap: 14px;
		}

		.show-card {
			display: flex;
			flex-direction: column;
			height: 100%;
		}

		.show-card h3 {
			font-size: 1rem;
			margin: 0 0 4px;
			display: flex;
			align-items: center;
			gap: 6px;
		}

		.show-card h3 .icon {
			font-size: 1.1rem;
		}

		.show-links-row {
			display: flex;
			flex-wrap: wrap;
			gap: 6px;
			margin-top: 4px;
			font-size: 0.8rem;
		}

		.show-links-row a {
			color: var(--accent-green);
			text-decoration: none;
		}

		.show-links-row a:hover {
			text-decoration: underline;
		}

		.courtesy-note {
			font-size: 0.8rem;
			color: var(--text-muted);
			padding: 10px 12px;
			border-radius: 16px;
			background: rgba(15, 23, 42, 0.9);
			border: 1px dashed rgba(148, 163, 184, 0.35);
			margin-top: 6px;
		}

		.courtesy-note ul {
			margin: 4px 0 0;
			padding-left: 18px;
		}

		.courtesy-note li {
			margin: 2px 0;
		}

		.courtesy-note a {
			color: var(--accent-green);
			text-decoration: none;
		}

		.courtesy-note a:hover {
			text-decoration: underline;
		}

		@media (max-width: 640px) {
			.shows-toolbar {
				align-items: flex-start;
				flex-direction: column;
			}
		}
	</style>
</head>
<body>
	<main id="top">
		<!-- NAV -->
		<nav class="nav">
			<div class="nav-title">
				<span>üéÑ</span>
				<span class="logo-script">Bateson Family Lights</span>
			</div>
			<div class="nav-links">
				<a href="index.html#top">Home</a>
				<a id="nav-listen-link" href="https://pulsemesh.io/d/SGVT/smart" target="_blank">Listen Live</a>
				<a href="index.html#jukebox">Requests</a>
				<a href="local-shows.html" class="nav-primary">Local Shows</a>
				<a href="contact.html">Contact Us</a>
			</div>
		</nav>

		<div class="string-lights">
			<div class="bulb"></div>
			<div class="bulb red"></div>
			<div class="bulb gold"></div>
			<div class="bulb"></div>
			<div class="bulb red"></div>
			<div class="bulb gold"></div>
		</div>

		<!-- HERO -->
		<section class="hero">
			<div class="hero-inner">
				<div class="hero-top">
					<div>
						<div class="badge">
							<span class="badge-dot"></span>
							<span>Christmas Junkies ‚Ä¢ Local Light Shows</span>
						</div>

						<h1 class="hero-title">
							<span class="em">Local Christmas Light Shows</span>
							<span>‚ú®</span>
						</h1>

						<div class="hero-highlight">
							üöó Plan a tour of synchronized displays across Northwest Ohio &amp; Southeast Michigan.
						</div>

						<p class="hero-subtitle">
							This page lists fellow Christmas Junkies shows from the printed flyer.
							Click a show to open directions in your maps app, see radio info, and visit their
							Facebook or website when available.
						</p>

						<div class="hero-meta">
							<div class="hero-meta-pill">Coverage: Northwest Ohio &amp; Southeast Michigan</div>
							<div class="hero-meta-pill">Season: Thanksgiving ‚Äì January 2 (approximate)</div>
						</div>

						<div class="hero-links">
							<!-- TODO: update href once you upload the real PDF path in your repo -->
							Download the printable flyer:
							<a href="Christmas-Junkies-Flyer-2025.pdf" target="_blank" rel="noopener noreferrer">
								Christmas Junkies Flyer (PDF)
							</a>
						</div>
					</div>
				</div>
			</div>
		</section>

		<section class="shows-section">
			<!-- FEATURED SHOW: Holiday Lights on Rome Court -->
			<article class="card featured-show">
				<div class="featured-label">Final Season</div>
				<span class="show-region-pill">
					<span class="show-region-dot"></span>
					Holland / Springfield Area
				</span>

				<h2>
					<span class="icon">‚≠ê</span>
					Holiday Lights on Rome Court
				</h2>

				<p class="show-address">7705 Rome Ct., Holland, OH</p>
				<p class="show-city">Holland, Ohio</p>

				<p class="show-summary">
					10,000 RGB pixels synchronized to music in a neighborhood cul-de-sac. This is their final year ‚Äì don‚Äôt miss it!
				</p>

				<div class="show-meta-list">
					<div class="show-meta-row">
						<span class="show-meta-icon">üìª</span>
						<span>Listen to the lights on <strong>87.9 FM</strong></span>
					</div>
					<div class="show-meta-row">
						<span class="show-meta-icon">üïí</span>
						<span>
							Hours: 5:00 ‚Äì 10:00 PM Sun‚ÄìThu ¬∑ 5:00 ‚Äì 11:00 PM Fri‚ÄìSat
						</span>
					</div>
				</div>

				<div class="show-actions">
					<a
						class="pill-link pill-link-primary"
						href="https://www.google.com/maps/search/?api=1&query=7705+Rome+Ct%2C+Holland%2C+OH"
						target="_blank"
						rel="noopener noreferrer"
					>
						<span>üìç</span>
						<span>Open in Maps</span>
					</a>

					<a
						class="pill-link"
						href="https://www.facebook.com/LightsonRome"
						target="_blank"
						rel="noopener noreferrer"
					>
						<span>üìò</span>
						<span>Facebook Page</span>
					</a>
				</div>

				<div class="show-tags">
					<span class="show-tag">Final Season</span>
				</div>
			</article>

			<!-- TOOLBAR -->
			<article class="card shows-toolbar">
				<div class="shows-toolbar-left">
					Browse shows from the Christmas Junkies flyer. Use the sort option to group by region or city.
				</div>
				<div class="shows-toolbar-right">
					<label for="shows-sort">Sort by:</label>
					<select id="shows-sort" class="sort-select">
						<option value="region" selected>Region (default)</option>
						<option value="city">City (A‚ÄìZ)</option>
					</select>
				</div>
			</article>

			<!-- SHOWS GRID -->
			<div id="shows-grid" class="shows-grid">
				<!-- Example: Bateson Family Christmas -->
				<article
					class="card show-card"
					data-name="Bateson Family Christmas"
					data-city="Swanton"
					data-region="Swanton / West"
				>
					<span class="show-region-pill">
						<span class="show-region-dot"></span>
						Swanton / West Area
					</span>

					<h3>
						<span class="icon">üéÑ</span>
						Bateson Family Christmas
					</h3>

					<p class="show-address">108 East St. Clair Street</p>
					<p class="show-city">Swanton, Ohio 43558</p>

					<p class="show-summary">
						Over 10,000 LEDs across 80 channels, fully synchronized to a playlist of Christmas favorites.
					</p>

					<div class="show-meta-list">
						<div class="show-meta-row">
							<span class="show-meta-icon">üìª</span>
							<span>On-site radio: <strong>93.1 FM</strong></span>
						</div>
						<div class="show-meta-row">
							<span class="show-meta-icon">üì±</span>
							<span>Remote audio via <strong>PulseMesh</strong> (see Listen Live on the Home page)</span>
						</div>
						<div class="show-meta-row">
							<span class="show-meta-icon">üïí</span>
							<span>Typical show hours: 6:00 ‚Äì 9:30 PM Sun‚ÄìThu ¬∑ 6:00 ‚Äì 11:00 PM Fri‚ÄìSat</span>
						</div>
					</div>

					<div class="show-actions">
						<a
							class="pill-link pill-link-primary"
							href="https://www.google.com/maps/search/?api=1&query=108+East+St+Clair+Street%2C+Swanton%2C+OH+43558"
							target="_blank"
							rel="noopener noreferrer"
						>
							<span>üìç</span>
							<span>Open in Maps</span>
						</a>

						<a
							class="pill-link"
							href="https://pulsemesh.io/d/SGVT/smart"
							target="_blank"
							rel="noopener noreferrer"
						>
							<span>üì±</span>
							<span>PulseMesh</span>
						</a>
					</div>

					<div class="show-links-row">
						<a
							href="https://www.facebook.com/BatesonLights"
							target="_blank"
							rel="noopener noreferrer"
						>
							üìò Facebook
						</a>
						<span>‚Ä¢</span>
						<a
							href="https://batesonlights.com"
							target="_blank"
							rel="noopener noreferrer"
						>
							üåê Website
						</a>
					</div>
				</article>

				<!-- TODO: Duplicate this block for each additional show from the flyer.
				     Fill in data-name, data-city, data-region, address, summary, radio, hours, and links.
				     Only include PulseMesh / Facebook / Website rows if that show actually has them. -->

				<!-- Example skeleton for another show (replace placeholder text):
				<article
					class="card show-card"
					data-name="Lights on Williams"
					data-city="Some City"
					data-region="Some Region"
				>
					<span class="show-region-pill">
						<span class="show-region-dot"></span>
						Some Region
					</span>

					<h3>
						<span class="icon">üéÑ</span>
						Lights on Williams
					</h3>

					<p class="show-address">1234 Example St.</p>
					<p class="show-city">Example City, OH</p>

					<p class="show-summary">
						Short description of the display, light count, or unique features.
					</p>

					<div class="show-meta-list">
						<div class="show-meta-row">
							<span class="show-meta-icon">üìª</span>
							<span>Radio: <strong>XX.X FM</strong></span>
						</div>
						<div class="show-meta-row">
							<span class="show-meta-icon">üïí</span>
							<span>Hours: 6:00 ‚Äì 10:00 PM (example)</span>
						</div>
					</div>

					<div class="show-actions">
						<a
							class="pill-link pill-link-primary"
							href="https://www.google.com/maps/search/?api=1&query=1234+Example+St%2C+Example+City%2C+OH"
							target="_blank"
							rel="noopener noreferrer"
						>
							<span>üìç</span>
							<span>Open in Maps</span>
						</a>

						<a
							class="pill-link"
							href="https://www.facebook.com/WilliamChristmasLights"
							target="_blank"
							rel="noopener noreferrer"
						>
							<span>üìò</span>
							<span>Facebook</span>
						</a>
					</div>
				</article>
				-->
			</div>

			<div class="courtesy-note card">
				<strong>Please be kind to our neighbors when visiting any show:</strong>
				<ul>
					<li>Headlights off or dimmed while parked; parking lights on.</li>
					<li>Do not block driveways, mailboxes, or fire hydrants.</li>
					<li>Keep windows mostly up and music at a respectful level.</li>
					<li>Obey all posted signs and traffic laws.</li>
				</ul>
				<p style="margin-top: 6px;">
					Show details and hours may change from year to year. Check each show‚Äôs Facebook or website
					for the latest updates when available.
				</p>
			</div>
		</section>

		<footer class="footer">
			<div>¬© <span id="year"></span> Bateson Family Lights. All rights reserved.</div>
			<div>
				Created by the Bateson family ‚Ä¢ Merry Christmas &amp; Happy Holidays! üéÖ
			</div>
		</footer>
	</main>

	<script>
		// --------- BASIC UI SETUP (same as index) ---------
		document.getElementById("year").textContent = new Date().getFullYear();

		document.addEventListener("DOMContentLoaded", function () {
			const labelEl = document.getElementById("listen-live-label");
			if (!labelEl) return;

			const isMobile =
				/Android|iPhone|iPad|iPod|webOS|BlackBerry|IEMobile|Opera Mini/i.test(
					navigator.userAgent
				);

			if (isMobile) {
				labelEl.textContent = "Tap to Listen";
			}
		});

		// NOTE: this page does not have the big Listen button from the home page,
		// but we still reuse the same logic to enable/disable the top nav "Listen Live" link.

		// --------- HARD-CODED OVERRIDE FLAG ---------
		const RF_OVERRIDE_MODE = "auto"; // "auto", "forceon", or "forceoff"

		function getEasternNow() {
			const now = new Date();
			const parts = new Intl.DateTimeFormat("en-US", {
				timeZone: "America/New_York",
				year: "numeric",
				month: "numeric",
				day: "numeric",
				hour: "numeric",
				minute: "numeric",
				second: "numeric",
				hour12: false
			}).formatToParts(now);

			const values = {};
			for (const p of parts) {
				if (p.type !== "literal") {
					values[p.type] = parseInt(p.value, 10);
				}
			}

			return new Date(
				values.year,
				values.month - 1,
				values.day,
				values.hour,
				values.minute,
				values.second
			);
		}

		function dateToYMDInt(d) {
			return d.getFullYear() * 10000 + (d.getMonth() + 1) * 100 + d.getDate();
		}

		function getThanksgiving(year) {
			const novFirst = new Date(year, 10, 1); // November
			const dayOfWeek = novFirst.getDay(); // 0 = Sun ... 6 = Sat
			const offsetToThursday = (4 - dayOfWeek + 7) % 7;
			const firstThursdayDate = 1 + offsetToThursday;
			const thanksgivingDate = firstThursdayDate + 21; // 4th Thursday
			return new Date(year, 10, thanksgivingDate);
		}

		function isWithinShowWindow(easternNow) {
			const year = easternNow.getFullYear();
			const ymdNow = dateToYMDInt(easternNow);

			const thisThanks = getThanksgiving(year);
			const nextJan2 = new Date(year + 1, 0, 2);

			const prevThanks = getThanksgiving(year - 1);
			const thisJan2 = new Date(year, 0, 2);

			const inSeasonCurrent =
				ymdNow >= dateToYMDInt(thisThanks) && ymdNow <= dateToYMDInt(nextJan2);
			const inSeasonPrevious =
				ymdNow >= dateToYMDInt(prevThanks) && ymdNow <= dateToYMDInt(thisJan2);

			const inSeason = inSeasonCurrent || inSeasonPrevious;
			if (!inSeason) return false;

			const dow = easternNow.getDay(); // 0=Sun..6=Sat
			const minutes = easternNow.getHours() * 60 + easternNow.getMinutes();

			const SHOW_START_MINUTES = 18 * 60; // 18:00
			const WEEKDAY_END        = 21 * 60 + 30; // 21:30
			const WEEKEND_END        = 23 * 60;      // 23:00

			let endMinutes;

			if (dow >= 0 && dow <= 4) {
				endMinutes = WEEKDAY_END; // Sun‚ÄìThu
			} else {
				endMinutes = WEEKEND_END; // Fri‚ÄìSat
			}

			return minutes >= SHOW_START_MINUTES && minutes < endMinutes;
		}

		function updateListenNavVisibility() {
			const navListen = document.getElementById("nav-listen-link");
			if (!navListen) return;

			let onAir;

			if (RF_OVERRIDE_MODE === "forceon") {
				onAir = true;
			} else if (RF_OVERRIDE_MODE === "forceoff") {
				onAir = false;
			} else {
				const easternNow = getEasternNow();
				onAir = isWithinShowWindow(easternNow);
			}

			if (onAir) {
				navListen.classList.remove("disabled-nav");
				navListen.href = "https://pulsemesh.io/d/SGVT/smart";
				navListen.target = "_blank";
				navListen.rel = "noopener noreferrer";
			} else {
				navListen.classList.add("disabled-nav");
				navListen.href = "#";
				navListen.removeAttribute("target");
				navListen.removeAttribute("rel");
			}

			console.log("LOCAL-SHOWS | RF_OVERRIDE_MODE:", RF_OVERRIDE_MODE, "| onAir:", onAir);
		}

		updateListenNavVisibility();
		setInterval(updateListenNavVisibility, 60 * 1000);

		// --------- SORTING LOGIC FOR SHOW CARDS ---------
		(function () {
			const sortSelect = document.getElementById("shows-sort");
			const grid = document.getElementById("shows-grid");
			if (!sortSelect || !grid) return;

			const cards = Array.from(grid.querySelectorAll(".show-card"));

			function sortBy(mode) {
				const sorted = cards.slice().sort((a, b) => {
					const nameA = (a.dataset.name || "").toLowerCase();
					const nameB = (b.dataset.name || "").toLowerCase();
					const cityA = (a.dataset.city || "").toLowerCase();
					const cityB = (b.dataset.city || "").toLowerCase();
					const regionA = (a.dataset.region || "").toLowerCase();
					const regionB = (b.dataset.region || "").toLowerCase();

					if (mode === "city") {
						if (cityA !== cityB) return cityA < cityB ? -1 : 1;
						return nameA < nameB ? -1 : 1;
					} else {
						// default: region
						if (regionA !== regionB) return regionA < regionB ? -1 : 1;
						return nameA < nameB ? -1 : 1;
					}
				});

				grid.innerHTML = "";
				sorted.forEach(card => grid.appendChild(card));
			}

			sortSelect.addEventListener("change", () => {
				sortBy(sortSelect.value);
			});

			// initial sort
			sortBy(sortSelect.value || "region");
		})();
	</script>
</body>
</html>
